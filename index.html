<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
  </head>
  <body>
    <div id="root"></div>
  </body>
  <script src="https://unpkg.com/react@17.0.2/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@17.0.2/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script type="text/babel">
    const root = document.getElementById("root");
    function App() {
      const [counter, setCounter] = React.useState(0);
      const onClick = () => {
        // setCounter(counter + 1);
        setCounter((current) => current + 1);
        /*
          현재 값을 가지고 계산해야한다면 함수로 작성..! why?
          함수형이 더 안전함
          - 매개변수 current 가 확실히 현재값이라는 걸 보장하고 있음
          - 그래서 우리가 정확히 원하는 값으로 계산할 수 있음
          - 그리고 예상치 못한 업데이트가 어디선가 일어났다고 해도,
          함수형으로 작성하면 혼동을 주는 걸 방지해 줌!
        */
      };
      return (
        <div>
          <h3>Total clicks: {counter}</h3>
          <button onClick={onClick}>Click me</button>
        </div>
      );
    }

    ReactDOM.render(<App />, root);

    /*
      useState()
      [변수 , 함수] = useState()
      - 함수
        :: 변수의 값을 바꿔주고
        :: 컴포넌트도 동시에 리랜더링(업데이트) 시켜줌!


        setCounter(counter + 1);
        - counter(1) 에 1을 더하고 리랜더링 => counter 의 값 2
        - counter(2) 에 1을 더하고 리랜더링 => counter 의 값 3
        - .... 이런 식으로 값을 업데이트 해줌
    */

    /*
      React 에서
      html 에 값을 1씩 업데이트 하고 싶다면
      값 = 값 + 1 의 함수를 실행 후
      UI 업데이트를 위해서
      재랜더링 과정이 필요함!

      Why?
      - React는 JS 에서 작성 후 HTML 을 업데이트 를 하기 때문
      - 계속해서 React 에서 HTML 을 업데이트 해줘야함

      That's how react works!


    */
  </script>
</html>
